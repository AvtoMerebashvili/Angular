"use strict";(self.webpackChunkhomework1=self.webpackChunkhomework1||[]).push([[620],{620:(U,d,c)=>{c.r(d),c.d(d,{homework3Module:()=>S});var y=c(2),e=c(639),h=c(709);const l_api="http://dummy.restapiexample.com/api/v1";var C=c(841);let m=(()=>{class n{constructor(t){this.http=t,this.$current=new h.xQ}one(t){return this.http.get(`${l_api}/employee/${t}`).subscribe(p=>{this.$current.next(p)}),this.$current=new h.xQ,this.http.get(`${l_api}/employee/${t}`)}all(){return this.http.get(`${l_api}/employees`)}create(t){return this.http.post(`${l_api}/create`,t)}update(t){return this.http.put(`${l_api}/update/${t.id}`,t)}delete(t){return this.http.delete(`${l_api}/delete/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(C.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),g=(()=>{class n{constructor(){}call(t){this.currentPerson=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var a=c(583),u=c(528);const O=function(n){return[n]},P=function(n){return["update",n]};let x=(()=>{class n{constructor(t,o,p){this.http=t,this.form=o,this.router=p,this.delete=new e.vpe}ngOnInit(){}ngOnChanges(){}onUpdate(t){this.form.call(t)}getById(t){this.http.one(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m),e.Y36(g),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employees"]],inputs:{person:"person"},outputs:{delete:"delete"},features:[e.TTD],decls:16,vars:12,consts:[[1,"person"],[3,"routerLink","click"],["alt","",3,"src"],[1,"name"],[1,"salary"],[1,"age"],[1,"buttons"],[3,"routerLink"],[3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"a",1),e.NdJ("click",function(){return o.getById(o.person.id)}),e._UZ(2,"img",2),e.TgZ(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p",4),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"p",5),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"a",7),e.TgZ(12,"button",8),e.NdJ("click",function(){return o.onUpdate(o.person)}),e._uU(13,"Update"),e.qZA(),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return o.delete.emit(o.person.id)}),e._uU(15,"Delete"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.VKq(8,O,o.person.id)),e.xp6(1),e.MGl("src","https://picsum.photos/200?random=",o.person.id,"",e.LSH),e.xp6(2),e.Oqu(o.person.employee_name),e.xp6(2),e.Oqu(e.lcZ(7,6,o.person.employee_salary)),e.xp6(3),e.hij("",o.person.employee_age," y/o"),e.xp6(2),e.Q6J("routerLink",e.VKq(10,P,o.person.id)))},directives:[u.yS],pipes:[a.H9],styles:[".person[_ngcontent-%COMP%]{width:250px;height:350px;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.person[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;justify-content:space-evenly}.person[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4682b4;height:0px}.person[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{width:80%;display:flex;justify-content:space-evenly}.person[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:#4682b4;border-radius:3px;color:#f5f5f5;width:70px;height:24px}.person[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#446d8f;cursor:pointer}"]}),n})();function b(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"app-employees",6),e.NdJ("delete",function(p){return e.CHM(t),e.oxw().onDelete(p)}),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("person",t)}}function v(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().clicked(s-1)}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t)}}let M=(()=>{class n{constructor(){this.pages=[],this.show=[],this.delete=new e.vpe}ngOnInit(){this.createPages();for(let t=0;t<=3;t++)this.people[t]&&this.show.push(this.people[t])}onDelete(t){let o=0;this.people.map((p,s,_)=>{(null==p?void 0:p.id)==t&&(_.splice(s,1),o=s)}),this.createShow(this.getPage(o)),this.popPages(),this.delete.emit(t)}clicked(t){this.createShow(t)}createPages(){if(Array.isArray(this.people))for(let t=1;t<=Math.ceil(this.people.length/4);t++)this.pages.every(o=>o!=t)&&this.pages.push(t)}popPages(){if(Array.isArray(this.people))for(;this.pages.length>Math.ceil(this.people.length/4);)this.pages.pop()}createShow(t){this.show=[];for(let o=4*t;o<=4*t+3;o++)this.people[o]&&this.show.push(this.people[o])}getPage(t){for(;t%4!=0;)t--;return t/4}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pagination"]],inputs:{people:"people"},outputs:{delete:"delete"},decls:5,vars:2,consts:[[1,"component"],[1,"people"],["class","person",4,"ngFor","ngForOf"],[1,"paging"],[4,"ngFor","ngForOf"],[1,"person"],[3,"person","delete"],[3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,b,2,1,"div",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,v,3,1,"ng-container",4),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",o.show),e.xp6(2),e.Q6J("ngForOf",o.pages))},directives:[a.sg,x],styles:[".component[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.component[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]{display:flex;flex-flow:row;flex-wrap:wrap;justify-content:space-evenly;margin:auto;width:100%}.component[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]{width:250px;height:350px;margin:auto auto 20px;border:1px solid #dadada;border-radius:3px;background-color:#fffaf5;box-sizing:border-box}.component[_ngcontent-%COMP%]   .paging[_ngcontent-%COMP%]{display:flex}.component[_ngcontent-%COMP%]   .paging[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2px;background-color:#ffebcd;border-radius:3px;border:1px solid #e9e0e0}.component[_ngcontent-%COMP%]   .paging[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.component[_ngcontent-%COMP%]   .paging[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:#f0cb93}.component[_ngcontent-%COMP%]   .paging[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#f0cb93}.component[_ngcontent-%COMP%]   .paging[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:checked{background-color:#f0cb93}"]}),n})();function Z(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-pagination",6),e.NdJ("delete",function(p){return e.CHM(t),e.oxw(2).onDelete(p)}),e.qZA(),e.BQk()}if(2&n){const t=r.ngIf;e.xp6(1),e.Q6J("people",t)}}function w(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Z,2,1,"ng-container",2),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.people$))}}let T=(()=>{class n{constructor(t,o){this.http=t,this.form=o,this.people$=this.http.all().pipe((0,y.U)(p=>p.data))}ngOnInit(){}onDelete(t){this.http.delete(t).subscribe(o=>{console.log(o)})}create(){this.form.call()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m),e.Y36(g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-people"]],decls:7,vars:1,consts:[[1,"component"],[1,"people"],[4,"ngIf"],[1,"button"],["routerLink","register"],[3,"click"],[1,"child",3,"people","delete"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,w,3,3,"ng-container",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"a",4),e.TgZ(5,"button",5),e.NdJ("click",function(){return o.create()}),e._uU(6,"create"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",o.people$))},directives:[a.O5,u.yS,M],pipes:[a.Ov],styles:['.component[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-items:center;align-content:center;justify-content:center}.component[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]{width:80%;height:auto;box-sizing:border-box;padding:10px;display:flex;flex-flow:row;flex-wrap:wrap;margin-top:20px}.component[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{width:100%}.component[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90px;height:40px;background:#7ac0ed;border:1px solid black;border-radius:4px;margin-bottom:20px;border:none;font-family:"diploma"}.component[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#7f8eb6;cursor:pointer}']}),n})();var i=c(665);let f=(()=>{class n{constructor(){this.register=new e.vpe,this.update=new e.vpe,this.form=new i.cw({name:new i.NI("",[i.kI.required]),salary:new i.NI("",[i.kI.required]),age:new i.NI("",[i.kI.required])})}ngOnInit(){}ngOnChanges(){var t,o,p;this.form.patchValue({name:null===(t=this.updateEmployee)||void 0===t?void 0:t.employee_name,salary:null===(o=this.updateEmployee)||void 0===o?void 0:o.employee_salary,age:null===(p=this.updateEmployee)||void 0===p?void 0:p.employee_age})}submit(){var t;if(this.form.valid){let o={employee_name:this.form.value.name.toString(),employee_salary:this.form.value.salary.toString(),employee_age:this.form.value.age.toString(),profile_image:""};this.form.reset(),(null===(t=this.updateEmployee)||void 0===t?void 0:t.update)?this.update.emit(Object.assign(Object.assign({},o),{id:this.updateEmployee.id})):this.register.emit(o)}else window.alert("user didn't registerd")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form"]],inputs:{updateEmployee:"updateEmployee"},outputs:{register:"register",update:"update"},features:[e.TTD],decls:8,vars:1,consts:[[1,"createForm"],[1,"form"],["method","POST","action","",3,"formGroup","ngSubmit"],["type","text","placeholder","name","formControlName","name"],["type","number","placeholder","salary","formControlName","salary"],["type","number","placeholder","age","formControlName","age"],["type","submit"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return o.submit()}),e._UZ(3,"input",3),e._UZ(4,"input",4),e._UZ(5,"input",5),e.TgZ(6,"button",6),e._uU(7,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",o.form))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.wV],styles:[".createForm[_ngcontent-%COMP%]{width:350px;height:250px;background:#eef7ff;border-radius:5px;margin:20px}.createForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{height:250px;display:flex;justify-content:center}.createForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}.createForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:35px;border-radius:50px;border:1px solid #756a6a;background-color:#dbd3d3;box-sizing:border-box;padding:10px;outline:none}.createForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90px;height:35px;border-radius:10px;border:none;background-color:#7ac0ed;outline:none}.createForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#76afd3}"]}),n})(),k=(()=>{class n{constructor(t){this.http=t}ngOnInit(){}ngOnChanges(){}onRegister(t){console.log(t),this.http.create(t).subscribe(),window.alert("user successfully registered")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-register"]],features:[e.TTD],decls:2,vars:0,consts:[[1,"component"],[3,"register"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"app-form",1),e.NdJ("register",function(s){return o.onRegister(s)}),e.qZA(),e.qZA())},directives:[f],styles:[".component[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),n})();function A(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"img",2),e.TgZ(2,"p",3),e._uU(3),e.qZA(),e.TgZ(4,"p",4),e._uU(5),e.ALo(6,"currency"),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.BQk()),2&n){const t=r.ngIf;e.xp6(1),e.MGl("src","https://picsum.photos/200?random=",t.data.id,"",e.LSH),e.xp6(2),e.Oqu(t.data.employee_name),e.xp6(2),e.Oqu(e.lcZ(6,4,t.data.employee_salary)),e.xp6(3),e.hij("",t.data.employee_age," y/o")}}let F=(()=>{class n{constructor(t){this.http=t,this.employee$=this.http.$current}ngOnInit(){this.employee$.subscribe(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee"]],decls:3,vars:3,consts:[[1,"component"],[4,"ngIf"],["alt","",3,"src"],[1,"name"],[1,"salary"],[1,"age"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,A,9,6,"ng-container",1),e.ALo(2,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,o.employee$)))},directives:[a.O5],pipes:[a.Ov,a.H9],styles:[".component[_ngcontent-%COMP%]{width:80%;height:auto;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin:3% auto auto}.component[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35%;height:auto}.component[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:cursive;font-size:20px;margin:2px;color:#4682b4}"]}),n})(),q=(()=>{class n{constructor(t,o){this.form=t,this.http=o,this.lastValue=this.form.currentPerson}ngOnInit(){this.lastValue&&(this.lastValue.update=!0)}onUpdate(t){this.http.update(t).subscribe(),window.alert("user successfully updated")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g),e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-update"]],decls:2,vars:1,consts:[[1,"component"],[3,"updateEmployee","update"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"app-form",1),e.NdJ("update",function(s){return o.onUpdate(s)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("updateEmployee",o.lastValue))},directives:[f],styles:[".component[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),n})();var E=c(466);let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[m,g],imports:[[E.m,u.Bz.forChild([{path:"",component:T},{path:"register",component:k},{path:":id",component:F},{path:"update/:id",component:q}])]]}),n})()}}]);